---
tags:
  - lab
  - red_team
  - smtp
  - msfconsole
module: Host and Networking Penetration Test
topic: The Metasploit Framework
date: 2025-11-04
status: completed
---
# Objective

Your task is to fingerprint the application using command line tools available in Kali and then exploit the application using the appropriate Metasploit module. Get a shell on the target!

# Walkthrough

- Ran `ifconfig` and `ping -c 1 demo.ine.local` commands to identify the network information of the attack machine and the victim machine. Confirmed:
	- The IP addresses of both the machines
	- The target machine is online and pingable
	- The machines are in the same subnet

    <img width="890" height="435" alt="3-7  Vulnerable SMTP Server ifconfig" src="https://github.com/user-attachments/assets/79bda352-9991-4fd0-a668-347dbb20ac57" />
    <img width="953" height="203" alt="3-7  Vulnerable SMTP Server ping" src="https://github.com/user-attachments/assets/251435eb-7080-4b66-9fb1-49c6288b4210" />

- Conduct an nmap scan

  <img width="1432" height="456" alt="3-7  Vulnerable SMTP Server nmap" src="https://github.com/user-attachments/assets/ccf4c6e1-3111-4414-8327-1bb7dde18d98" />

- Failed to enumerate users with NSE

  <img width="1483" height="372" alt="3-7  Vulnerable SMTP Server nse" src="https://github.com/user-attachments/assets/7b6b0466-d1f1-470c-9cf8-21090550e59d" />

- Try to use `nc` to find valid email address in the server. Found root@attackdefense.test is a valid account.

  <img width="941" height="302" alt="3-7  Vulnerable SMTP Server nc" src="https://github.com/user-attachments/assets/5071c7bc-6821-4c94-8c51-f73f3bdcea46" />

- Launch and set up msfconsole

  <img width="902" height="567" alt="3-6  Vulnerable SSH Server msf setup" src="https://github.com/user-attachments/assets/ab9c8615-b4a1-4c03-bef1-0c90ff25f6a3" />

- Use `smtp/haraka` to exploit the vulnerable service

  <img width="1278" height="413" alt="3-7  Vulnerable SMTP Server exploit" src="https://github.com/user-attachments/assets/314c18fe-08c9-4f2f-9dc6-48640d950d95" />

- Succed

  <img width="1385" height="396" alt="3-7  Vulnerable SMTP Server shell" src="https://github.com/user-attachments/assets/eb5a2fb6-db9a-4610-9105-6ef59307574a" />
