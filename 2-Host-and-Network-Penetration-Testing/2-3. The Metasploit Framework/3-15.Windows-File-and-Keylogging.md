---
tags:
  - lab
  - red_team
  - post_exploit
  - msfconsole
module: Host and Networking Penetration Test
topic: The Metasploit Framework
date: 2025-11-06
status: completed
---
# Objective

Your task is to exploit the application using an appropriate Metasploit module and complete the below-mentioned objectives.Â 

- Retrieve the flag.
- Create a file on the desktop which contains the text "You have been Hacked".
- From the Metasploit session, open the file in notepad on the target machine.
- Use the keylogger to log the commands typed on the victim machine.

# Walkthrough

- Ran `ifconfig` and `ping -c 1 demo.ine.local` commands to identify the network information of the attack machine and the victim machine. Confirmed:
	- The IP addresses of both the machines
	- The target machine is online and pingable
	- The machines aren't in the same subnet

    <img width="738" height="391" alt="3-15  Windows File and Keylogging ifconfig" src="https://github.com/user-attachments/assets/5bea7f37-9f15-4399-b1bb-bccda956f3bb" />
    <img width="788" height="196" alt="3-15  Windows File and Keylogging ping" src="https://github.com/user-attachments/assets/cd48be8a-9324-445f-af5f-50ec202e1505" />

- Conduct an nmap scan

  <img width="1049" height="717" alt="3-15  Windows File and Keylogging nmap" src="https://github.com/user-attachments/assets/27fed953-6302-4c2b-a67b-6899e389e42a" />

- Launch and set up msfconsole

  <img width="681" height="500" alt="3-15  Windows File and Keylogging msf setup" src="https://github.com/user-attachments/assets/00948ef5-0fe0-492c-a7e1-f747e10c85e3" />

- Use `badblue_passthru` to exploit the vulnerable service on the host

  <img width="1271" height="500" alt="3-15  Windows File and Keylogging exploit" src="https://github.com/user-attachments/assets/31ece4de-f81e-4609-899d-76e1bc609d6c" />

- Upgrade session

  <img width="1047" height="140" alt="3-15  Windows File and Keylogging upgrade 1" src="https://github.com/user-attachments/assets/d8c402e7-dd85-4b6d-8922-33dd28edd852" />
  <img width="1466" height="589" alt="3-15  Windows File and Keylogging upgrade 2" src="https://github.com/user-attachments/assets/db1be2db-7c47-4be2-8eba-e7b8cf3623f0" />

- Obtain the flag

  <img width="832" height="517" alt="3-15  Windows File and Keylogging flag" src="https://github.com/user-attachments/assets/c5d551c0-0ccb-4987-b20a-0de94bff8099" />

- File created

  <img width="1019" height="69" alt="3-15  Windows File and Keylogging file 1" src="https://github.com/user-attachments/assets/efbd9aeb-b19a-4776-80e9-87e61669a186" />
  <img width="644" height="103" alt="3-15  Windows File and Keylogging file 2" src="https://github.com/user-attachments/assets/6f73e39f-b423-4eb6-a40a-6f75da00d36c" />

- Open a file with notepad

  <img width="664" height="71" alt="3-15  Windows File and Keylogging notepad" src="https://github.com/user-attachments/assets/4aac5c4d-5396-4c04-acf3-b64307b35710" />

- Key logging

  <img width="669" height="231" alt="3-15  Windows File and Keylogging keylogging" src="https://github.com/user-attachments/assets/9e9005b0-f1c6-4f4e-8cb6-972f4484cd40" />

# Key Finds

- FLAG 70a569da306697d64fc6c19afea37d94
