---
tags:
  - lab
  - red_team
  - msfconsole
  - post_exploit
module: Host and Networking Penetration Test
topic: The Metasploit Framework
date: 2025-11-05
status: completed
---
# Objective

Your task is to run various Windows Post Exploitation Metasploit modules against the compromised target.
- post/windows/gather/win_privs
- post/windows/gather/enum_logged_on_users
- post/windows/gather/checkvm
- post/windows/gather/enum_applications
- post/windows/gather/enum_computers
- post/windows/gather/enum_shares

# Walkthrough

- Ran `ifconfig` and `ping -c 1 demo.ine.local` commands to identify the network information of the attack machine and the victim machine. Confirmed:
	- The IP addresses of both the machines
	- The target machine is online and pingable
	- The machines aren't in the same subnet

    <img width="769" height="363" alt="3-11  Windows Post Exploitation Modules ifconfig" src="https://github.com/user-attachments/assets/59c7a08a-1afd-4bee-ba0e-94007b6b293b" />
    <img width="842" height="180" alt="3-11  Windows Post Exploitation Modules ping" src="https://github.com/user-attachments/assets/9d96d7f5-9bff-4f60-937c-33f3459f28de" />

- Conduct an nmap scan

  <img width="1016" height="761" alt="3-11  Windows Post Exploitation Modules nmap" src="https://github.com/user-attachments/assets/1b661008-c43b-4fa6-9e42-2a9ff36ce823" />

- Launch and set up msfconsole

  <img width="1169" height="754" alt="3-11  Windows Post Exploitation Modules msf setup" src="https://github.com/user-attachments/assets/f7938faf-b78a-40cf-b854-e4865372d76e" />

- Use `rejetto_hfs_exec` module to exploit the vulnerable service running on the host

  <img width="1084" height="355" alt="3-11  Windows Post Exploitation Modules exploit" src="https://github.com/user-attachments/assets/97b9e490-ad01-40f4-9d0b-6506e1e76c81" />

- Use `win_privs` module to enumerate the privileged account in the host

  <img width="1224" height="737" alt="3-11  Windows Post Exploitation Modules privileges" src="https://github.com/user-attachments/assets/d45c2a8c-fe3b-41be-9396-14a78da853be" />

- Use `enum_logged_on_users` module to enumerate recent and current logged on users.

  <img width="1046" height="674" alt="3-11  Windows Post Exploitation Modules users" src="https://github.com/user-attachments/assets/dcce2feb-3ed6-4fc8-9044-15410ae41b06" />

- Use `checkvm` module to check if the target is a VM host

  <img width="661" height="160" alt="3-11  Windows Post Exploitation Modules vm" src="https://github.com/user-attachments/assets/20346627-0c71-42f3-b36e-83be11c50eec" />

- Use `enum_applications` module to enumerate applications installed in the host

  <img width="1112" height="576" alt="3-11  Windows Post Exploitation Modules applications" src="https://github.com/user-attachments/assets/459005ea-e774-4746-aa3f-787ae82a839e" />

- Use `enum_computers` to determine if the host is in a domain, and if so, enumerate other computers in the same domain

  <img width="1070" height="199" alt="3-11  Windows Post Exploitation Modules computers" src="https://github.com/user-attachments/assets/09c1797d-78cb-415d-bada-96a561c8ecd7" />

- Use `enum_shares` module enumerate SMB shares

  <img width="923" height="326" alt="3-11  Windows Post Exploitation Modules shares" src="https://github.com/user-attachments/assets/1f678b82-969b-4039-988e-f6fc984da43c" />
