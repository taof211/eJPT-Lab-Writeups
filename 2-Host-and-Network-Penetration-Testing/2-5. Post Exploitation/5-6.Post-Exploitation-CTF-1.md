---
tags:
  - lab
  - ctf
  - red_team
  - post_exploit
  - msfconsole
module: Host and Networking Penetration Test
topic: Post Exploitation
date: 2025-11-14
status: completed
---
# Objective

Execute Post-Exploitation techniques on the target to uncover hidden flags and fully exploit the compromised environment.

**Flags to Capture:**

- **Flag 1**: The file that stores user account details is worth a closer look. (target1.ine.local)
- **Flag 2**: User groups might reveal more than you expect.
- **Flag 3**: Scheduled tasks often have telling names. Investigate the cron jobs to uncover the secret.
- **Flag 4**: DNS configurations might point you in the right direction. Also, explore the home directories for stored credentials.
- **Flag 5**: Use the discovered credentials to gain higher privileges and explore the root's home directory on target2.ine.local.

# Walkthrough

- Ran `ifconfig` and `ping -c 1 target1.ine.local` commands to identify the network information of the attack machine and the victim machine. Confirmed:
	- The IP addresses of both the machines
	- The target machine is online and pingable
	- The machines are not in the same subnet

    <img width="946" height="425" alt="5-6  Post Exploitation CTF 1 ifconfig" src="https://github.com/user-attachments/assets/4b8741f3-c507-4282-88d7-24ab119e70a9" />
    <img width="1048" height="223" alt="5-6  Post Exploitation CTF 1 ping 1" src="https://github.com/user-attachments/assets/8445ebb1-5336-4e88-9b50-81421577ebe3" />

- Conduct an nmap scan

  <img width="1318" height="483" alt="5-6  Post Exploitation CTF 1 nmap 1" src="https://github.com/user-attachments/assets/4c39c32b-9708-4ed4-a112-981da049b465" />

- Create a backdoor and host a http server

  <img width="1321" height="354" alt="5-6  Post Exploitation CTF 1 backdoor" src="https://github.com/user-attachments/assets/87f5989a-8401-4f74-abe6-608521b2e5cd" />

- Download backdoor to the target host

  <img width="1500" height="484" alt="5-6  Post Exploitation CTF 1 download backdoor" src="https://github.com/user-attachments/assets/2f5d2f1b-5b9d-4abe-b196-c700afbecfc5" />

- Grant execute permission to the backdoor

  <img width="1175" height="535" alt="5-6  Post Exploitation CTF 1 execute permission" src="https://github.com/user-attachments/assets/56852b55-f270-4260-ab52-a668d973d959" />

- Set up a handler

  <img width="1091" height="296" alt="5-6  Post Exploitation CTF 1 handler" src="https://github.com/user-attachments/assets/1524816e-dacc-450d-812b-42f31a256462" />

- Execute the backdoor and then we obtain a shell

  <img width="1127" height="248" alt="5-6  Post Exploitation CTF 1 execution" src="https://github.com/user-attachments/assets/996785c9-e642-4781-bd65-8d66d0e7f30c" />
  <img width="1374" height="374" alt="5-6  Post Exploitation CTF 1 shell" src="https://github.com/user-attachments/assets/c3ec1684-ad7b-42db-b902-a2c34b68bc74" />

- Get john's credential

  <img width="991" height="368" alt="5-6  Post Exploitation CTF 1 credential" src="https://github.com/user-attachments/assets/38651efe-c34e-452d-8e0a-848cac9a9a1a" />

- Check the `/etc/passwd` file and get the flag 1

  <img width="1374" height="537" alt="5-6  Post Exploitation CTF 1 flag 1" src="https://github.com/user-attachments/assets/cd5384f0-3d64-4f7e-82f4-45d2209cc8dc" />

- Conduct an nmap against the target 2

  <img width="1511" height="725" alt="5-6  Post Exploitation CTF 1 nmap 2" src="https://github.com/user-attachments/assets/fe8fb934-36c5-4d8a-9846-7f72bfbcc74e" />

- We try using john's credential to log into target 2 via ssh, and we are in

  <img width="1177" height="617" alt="5-6  Post Exploitation CTF 1 ssh" src="https://github.com/user-attachments/assets/48788da9-347f-4f53-8435-373a274c612a" />

- Back to the target 1, manually check the cron jobs and get the flag 3

  <img width="1048" height="272" alt="5-6  Post Exploitation CTF 1 flag 3" src="https://github.com/user-attachments/assets/e6255624-4ba9-44b6-a5fd-efdc6a3551d3" />

- Manallly check `/etc/group` file and get the flag 2

  <img width="1000" height="484" alt="5-6  Post Exploitation CTF 1 group" src="https://github.com/user-attachments/assets/5e413972-a8fd-4325-9aa4-ee8b64e7bc58" />
  <img width="966" height="630" alt="5-6  Post Exploitation CTF 1 flag 2" src="https://github.com/user-attachments/assets/2be3cec1-fd18-4510-8f01-4c5d927632e1" />

- Display DNS configuration on target 1

  <img width="981" height="340" alt="5-6  Post Exploitation CTF 1 dns" src="https://github.com/user-attachments/assets/38ca63eb-16d4-4414-8e94-61bce7f2220f" />

- Check other network configuration manually and get the flag 4

  <img width="1041" height="536" alt="5-6  Post Exploitation CTF 1 flag 4" src="https://github.com/user-attachments/assets/db4dd811-03c2-4a32-83ed-8b6767d7e7bd" />

- One target 2, use `find` command to look for files allowing other users to write and find `/etc/shadow`

  <img width="965" height="698" alt="5-6  Post Exploitation CTF 1 find 1" src="https://github.com/user-attachments/assets/58879d3a-dbbe-4be0-af10-ce97f3df0eff" />
  <img width="988" height="715" alt="5-6  Post Exploitation CTF 1 find 2" src="https://github.com/user-attachments/assets/1009de5c-523c-453c-ac81-dee2f38c543d" />

- Check the password supported hash algorithm in configuration files

  <img width="799" height="162" alt="5-6  Post Exploitation CTF 1 algorithm" src="https://github.com/user-attachments/assets/ca7f5864-e780-4e5a-988b-8a20938500aa" />

- Use `openssl` to create a password hash and replace the password hash of root account in `/ect/shadow` file with the new one. Use `su` command to get root access on target 2.

  <img width="1008" height="189" alt="5-6  Post Exploitation CTF 1 root" src="https://github.com/user-attachments/assets/25379f19-921b-4b4d-b83d-d05058d92b61" />

- Get the flag 5

  <img width="620" height="133" alt="5-6  Post Exploitation CTF 1 flag 5" src="https://github.com/user-attachments/assets/b544d048-7f68-4332-b630-6404f740c40f" />

# Key Finds

- FLAG 1: a6d1250310354adc9d65f36ded893e82
- FLAG 2: dfea26f2477d42ac957b8382857427e7
- FLAG 3: 9319a3b8bc8d41c7b28d8bc69811d537
- FLAG 4: 07dc44d7738c4ca080deefa483760e49
- FLAG 5:cbb8fc4614d0448dbf12e50f5ec8919c
