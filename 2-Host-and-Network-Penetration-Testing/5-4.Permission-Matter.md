---
tags:
  - lab
  - red_team
  - post_exploit
  - privilege_escalation
module: Host and Networking Penetration Test
topic: Post Exploitation
date: 2025-11-14
status: completed
---
# Objective

Your mission is to get a root shell on the box and retrieve the flag!

# Walkthrough

- Look for files that allows other users to write in with `find` command. Find that we can write in `/etc/shadow` file.

  <img width="918" height="672" alt="5-4  Permission Matter file 1" src="https://github.com/user-attachments/assets/29d0f4ea-aaf1-4f07-bb87-99b19ffce14d" />
  <img width="796" height="351" alt="5-4  Permission Matter file 2" src="https://github.com/user-attachments/assets/cea62a71-b4a7-4222-bd33-f63fc6f1ea6c" />

- Use `vim` to access the file. We can see that the root account is disabled and cannot be used to log on the machine

  <img width="737" height="660" alt="5-4  Permission Matter vim" src="https://github.com/user-attachments/assets/7369ac32-1a49-4a2b-9d8c-44abcb132e97" />

- Check the configuration file to confirm what algorithm is supported in the machine for password hash

  <img width="1090" height="213" alt="5-4  Permission Matter config" src="https://github.com/user-attachments/assets/21539f84-8b29-4225-a1f7-ad14885c6eac" />

- Generate a hashed password with `openssl` command

  <img width="1181" height="117" alt="5-4  Permission Matter hash" src="https://github.com/user-attachments/assets/9bbc7de5-29f6-4d62-8d70-e1285f5ff58e" />

- Replace the `*` of the root hashed password in the shadow file with the newly generated string on the target machine and use `su` command to log in with root account

  <img width="654" height="123" alt="5-4  Permission Matter excalation" src="https://github.com/user-attachments/assets/868d09e5-f53a-4fcd-ac90-18bdee6ee218" />

- Get the flag

  <img width="652" height="145" alt="5-4  Permission Matter flag" src="https://github.com/user-attachments/assets/fc8d9279-b629-48c2-a126-a9f23e017ce7" />

# Key Finds

- FLAG: e62ab67ddff744d60cbb6232feaefc4d
