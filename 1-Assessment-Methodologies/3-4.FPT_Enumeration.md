---
tags:
  - "lab"
  - enumeration
  - mtfconsole
  - nmap
  - T1046
module: Assessment Methodologies
topic: Enumeration
date: 2025-10-15
status: completed
---
# Objective

Your task is to perform FTP enumeration with Metasploit.

# Walkthrough

- Ran `ifconfig` and `ping -c 1 demo.ine.local` commands to identify the network information of the attack machine and the victim machine. Confirmed:
	- The IP addresses of both the machines
	- The target machine is online and pingable
	- The machines are in the same subnet

  <img width="934" height="457" alt="3-4  FTP Enumeration ifconfig" src="https://github.com/user-attachments/assets/e17304c4-c61a-4962-9848-de53b5803c1d" />
  <img width="958" height="235" alt="3-4  FTP Enumeration ping" src="https://github.com/user-attachments/assets/51781c5b-05a4-4bc6-a420-1003883c0347" />

- Ran `nmap -sS -sV -p 21 192.126.178.3 -oX target.xml` to do initial scan on port 21

  <img width="1146" height="360" alt="3-4  FTP Enumeration nmap" src="https://github.com/user-attachments/assets/c24141ea-46d4-48e2-b3db-0877725a8b3e" />

- Complete msfconsole initial setup

  <img width="1220" height="711" alt="3-4  FTP Enumeration msf setup" src="https://github.com/user-attachments/assets/ab2acd2a-bf64-458e-b449-747c2c646ca3" />

- Ran `search type:auxiliary name:ftp` to find potentially usable module

  <img width="1483" height="722" alt="3-4  FTP Enumeration module search" src="https://github.com/user-attachments/assets/2072e282-efe7-4019-b3e6-7be5e9fa9447" />

- Use `/ftp/anonymous` to check if the service allow anonymous login. Confirmed it doesn't allow

  <img width="817" height="227" alt="3-4  FTP Enumeration ftp anonymous" src="https://github.com/user-attachments/assets/2725ed9d-0f3d-4ab4-b17c-0016720a79b2" />

- Use `ftp_login` to do a brute force attack against the brute force service

  <img width="1448" height="272" alt="3-4  FTP Enumeration ftp login" src="https://github.com/user-attachments/assets/5043545a-fae7-4854-8137-30a8ec8fd973" />

- Got the right credential

  <img width="1085" height="139" alt="3-4  FTP Enumeration brute force" src="https://github.com/user-attachments/assets/b7799237-6db2-4ab3-a57b-d9c0df4a12ea" />
  <img width="1061" height="140" alt="3-4  FTP Enumeration brute force 2" src="https://github.com/user-attachments/assets/e291d9d4-a540-451f-b37a-b948c93ece25" />

- Use the credential to login to the ftp server and discover and download the sensitive file, `secret.txt`

  <img width="1462" height="628" alt="3-4  FTP Enumeration secret" src="https://github.com/user-attachments/assets/d6eaf471-1cf5-4b62-a2f2-8e21b9b28cda" />

- Find a string which should be a flag, though no flags required in the lab

  <img width="543" height="143" alt="3-4  FTP Enumeration" src="https://github.com/user-attachments/assets/6367591e-b466-47fd-ae4b-4894310122cb" />

# Key Finds

- By using nmap and msfconsole, we identified the service version running on the host, confirmed that it does not allow anonymous login, found accounts with weak passwords, and found sensitive file in the server.
